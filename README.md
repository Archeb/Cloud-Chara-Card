# Cloud Character Card “云角色卡”方案

为了防止角色卡设定和世界书轻易流出，设计此方案。

该方案相当于在你的反代（或者LLM API）前面多加一层反代，这个反代负责把角色卡的内容和世界书填充进去，然后这个反代由角色卡作者控制。

## 流程
酒馆（空白卡只有卡面和作者预先设定好的可以被调整的参数，用户填入LLM API地址和token）-> cloudflare worker -> 填充设定和世界书触发词 -> LLM API

## 防御效果
如果要让用户能够自己指定API Endpoint地址，prompt还是能获取到的。但是他们永远不可能获取到完整的世界书和触发机制。

## 部署成本
可以做成模板一键发布到vercel或者cf worker，门槛不算特别高

## 方案开发难度与维护成本
可高可低，该方案需要在云端重新实现一部分酒馆的处理逻辑。当然工作量取决于要支持的自定义程度。用户完全可以用一个空白预设来玩，只是这样他们连user的名字都没法设定了。

## 缺点
角色卡作者会不可避免地从原理上能够获得LLM API Token，还有聊天记录（当然也完全可以匿名化处理）

## Q&A
Q：如果想要改卡或者用自定义API怎么办
A：角色卡作者可以预留被允许修改的参数，没设计的话那确实连user的名字都没办法改；API的话，角色卡作者可以设定是否允许请求openai、claude等以外的非官方API，但是有被偷走prompt的风险。

Q：和电子魅魔网站、TG酒馆等Bot的区别？
A：该方案是去中心化的，我们提供的只有模板，不用担心偷卡私有化或者盈利化等问题；角色卡作者们自己进行一键部署，托管到各大SaaS云平台，都有免费套餐，也不用担心被人攻击的问题（作者有很多，攻击不过来）